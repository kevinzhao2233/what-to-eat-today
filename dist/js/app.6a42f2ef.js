(function(t){function e(e){for(var i,s,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&h.push(r[s][0]),r[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},r={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0424":function(t,e,n){},"14ff":function(t,e,n){"use strict";n("2c41")},"2c41":function(t,e,n){},"3e11":function(t,e,n){"use strict";n.r(e);n("c740"),n("a434");function i(t){var e=t.key,n=t.value;window.localStorage.setItem(e,JSON.stringify(n))}function r(t){var e=window.localStorage.getItem(t);return!!e&&!(JSON.parse(e).length<2)}var a=[{id:"10086",title:"今天吃什么？",mark:[{title:"羊杂"},{title:"土豆丝盖饭"},{title:"土豆烧牛腩"},{title:"炒面片"},{title:"天津冷冻虾私房菜"}],hideMark:[{title:"猪头肉"},{title:"牛肉面"}]},{id:"10087",title:"这次谁刷马桶？",mark:[{title:"李白"},{title:"蜘蛛侠"},{title:"秦始皇"},{title:"白骨精"},{title:"王二蛋"},{title:"灭霸"}]},{id:"10088",title:"去哪家吃饭啊？",mark:[{title:"海底捞"},{title:"林正英炒饭"},{title:"大盘鸡"},{title:"肯德基"}]}],s={boxs:r("MARK_BOXS")?JSON.parse(localStorage.getItem("MARK_BOXS")):a},o={ADD_MARK_BOX:function(t,e){var n={id:e.id,title:"新的签盒",mark:[{title:"小签"}],hideMark:[]};t.boxs.unshift(n)},UPDATE:function(t,e){var n=t.boxs.findIndex((function(t){return t.id===e.id}));n>-1&&(t.boxs.splice(n,1,e),this.commit("mark/SAVE_BOXS"))},REMOVE_MARK_BOX:function(t,e){var n=e.id,i=t.boxs.findIndex((function(t){return t.id===n}));i>-1&&(t.boxs.splice(i,1),this.commit("mark/SAVE_BOXS"))},SAVE_BOXS:function(t){i({key:"MARK_BOXS",value:t.boxs})}},c={addMarkBox:function(t,e){var n=t.commit;n("ADD_MARK_BOX",e)},update:function(t,e){var n=t.commit;n("UPDATE",Object.assign({},e))},removeMarkBox:function(t,e){var n=t.commit;n("REMOVE_MARK_BOX",e)}};e["default"]={namespaced:!0,state:s,mutations:o,actions:c}},"3e8e":function(t,e,n){},"454c":function(t,e,n){"use strict";n("b816")},"459e":function(t,e,n){},"46ad":function(t,e,n){"use strict";n("459e")},"48fa":function(t,e,n){},"52c3":function(t,e,n){"use strict";n("b138")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],s=(n("7c55"),n("2877")),o={},c=Object(s["a"])(o,r,a,!1,null,null,null),u=c.exports,l=n("9483");Object(l["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var d=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"layout"}},[n("Header"),n("router-view")],1)},f=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout-header"},[n("span",{staticClass:"title"},[n("i",{staticClass:"icon ri-home-3-line",class:t.header.theme,on:{mousedown:t.goHome}}),t._v(" "+t._s(t.header.title)+" ")])])},p=[],v=(n("ac1f"),n("5319"),n("5530")),k=n("2f62"),b={name:"Header",data:function(){return{isShowOpt:!1}},computed:Object(v["a"])({},Object(k["b"])({header:function(t){return t.app.header}})),methods:{goHome:function(){this.$router.replace({name:"Home"})}}},g=b,_=(n("5e81"),Object(s["a"])(g,m,p,!1,null,"f3738710",null)),x=_.exports,M={name:"Layout",components:{Header:x}},O=M,E=(n("46ad"),Object(s["a"])(O,h,f,!1,null,"9c616d8a",null)),y=E.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-home"},[t._l(t.markBoxs,(function(e){return n("Card",{key:e.id,attrs:{data:e,showOpt:t.boxEditStatus}})})),n("div",{staticClass:"bottom-btn-box"},[n("div",{staticClass:"btn btn-s",on:{mousedown:function(e){t.boxEditStatus?t.handleCancel():t.handleEditBox()}}},[t._v(t._s(t.boxEditStatus?"完成":"编辑"))]),n("div",{staticClass:"btn btn-m",on:{mousedown:t.handleAddBox}},[t._v("添加签盒")])])],2)},S=[];function C(){var t=parseInt(1e5*Math.random()),e=parseInt(1e5*Math.random()),n=Date.now();return t+n+e}var j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"com-home-card",on:{mousedown:t.goSurprise}},[n("div",{staticClass:"title"},[t._v(t._s(t.data.title))]),t.showOpt?n("div",{staticClass:"handler-box"},[n("div",{staticClass:"handler",on:{mousedown:function(e){return e.stopPropagation(),t.goEdit(e)}}},[n("i",{staticClass:"ri-edit-2-fill"})]),n("div",{staticClass:"handler",on:{mousedown:function(e){return e.stopPropagation(),t.remove(e)}}},[n("i",{staticClass:"ri-close-circle-fill"})])]):t._e()])},$=[],A={name:"Card",props:{data:{type:Object,default:null},showOpt:{type:Boolean,default:!1}},methods:{goSurprise:function(){this.$router.push({name:"Surprise",query:{id:this.data.id}})},goEdit:function(){this.$router.push({name:"Edit",query:{type:"edit",id:this.data.id}})},remove:function(){this.$store.dispatch("mark/removeMarkBox",{id:this.data.id})}}},B=A,T=(n("84ad"),Object(s["a"])(B,j,$,!1,null,null,null)),H=T.exports,I={name:"Home",components:{Card:H},data:function(){return{boxEditStatus:!1}},computed:Object(v["a"])({},Object(k["b"])({markBoxs:function(t){return t.mark.boxs}})),created:function(){this.$store.dispatch("app/changeHeaderTitle",{title:"今天吃什么？"}),this.$store.dispatch("app/changeHeaderTheme",{theme:"hide"})},methods:{handleEditBox:function(){this.boxEditStatus=!0},handleCancel:function(){this.boxEditStatus=!1},handleAddBox:function(){var t=C(1e6,9999999);console.log("随机数",t),this.$store.dispatch("mark/addMarkBox",{id:t}),this.$router.push({name:"Edit",query:{type:"create",id:t}})}}},D=I,N=(n("52c3"),Object(s["a"])(D,w,S,!1,null,"ceb50930",null)),R=N.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-edit"},[n("div",{staticClass:"banner"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:"input",attrs:{type:"text",placeholder:"这里输入一个名字"},domProps:{value:t.title},on:{change:t.changeTitle,input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("span",{staticClass:"quick-btn",on:{click:t.goSurprise}},[t._v("马上来一签")])]),n("div",{staticClass:"top"},t._l(t.res.mark,(function(e){return n("Mark",{key:e.title,attrs:{data:e,showOpt:1===t.markStatus},on:{"on-remove":function(n){return t.removeMark(e)}},nativeOn:{mousedown:function(n){return t.toggleMark(e)}}})})),1),n("div",{staticClass:"bottom"},t._l(t.res.hideMark,(function(e){return n("Mark",{key:e.title,attrs:{data:e,showOpt:1===t.markStatus,hide:!0},on:{"on-remove":function(n){return t.removeMark(e)}},nativeOn:{mousedown:function(n){return t.toggleMark(e)}}})})),1),n("div",{staticClass:"bottom-btn-box"},[n("div",{staticClass:"btn btn-s",on:{mousedown:function(e){0===t.markStatus?t.handleRemoveMark():t.handleCancel()}}},[t._v(t._s(0===t.markStatus?"编辑":"完成"))]),n("div",{staticClass:"btn btn-m",on:{mousedown:t.handleAddMark}},[t._v("添加小签")])]),t.addMaskState?n("BaseMask",{on:{cancel:t.closeMask}},[n("div",{staticClass:"input-box"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.markInput,expression:"markInput"}],ref:"mackInput",staticClass:"mask-input",attrs:{placeholder:"想要什么呢？",type:"text"},domProps:{value:t.markInput},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addMark(e)},input:function(e){e.target.composing||(t.markInput=e.target.value)}}}),n("div",{staticClass:"mask-btn",on:{mousedown:t.addMark}},[t._v("添加")])])]):t._e()],1)},q=[],X=(n("7db0"),n("c740"),n("a434"),n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"com-edit-mark",class:{hide:t.hide}},[n("span",{staticClass:"txt"},[t._v(t._s(t.data.title))]),t.showOpt?n("div",{staticClass:"opt",on:{mousedown:function(e){return e.stopPropagation(),t.removeMark(e)}}},[n("i",{staticClass:"ri-close-circle-fill"})]):t._e()])}),K=[],G={name:"Mark",props:{data:{type:Object,default:null},showOpt:{type:Boolean,default:!1},hide:{type:Boolean,default:!1}},methods:{removeMark:function(){this.$emit("on-remove")}}},J=G,U=(n("14ff"),Object(s["a"])(J,X,K,!1,null,null,null)),V=U.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"com-base-mask",on:{mousedown:function(e){return e.target!==e.currentTarget?null:t.cancel(e)}}},[t._t("default")],2)},F=[],z={name:"BaseMask",methods:{cancel:function(){this.$emit("cancel")}}},Q=z,W=(n("454c"),Object(s["a"])(Q,L,F,!1,null,"4d8ece2c",null)),Y=W.exports,Z={name:"Edit",components:{Mark:V,BaseMask:Y},data:function(){return{pageStatus:"create",res:{},addMaskState:!1,title:"",markInput:"",markStatus:0}},computed:Object(v["a"])({},Object(k["b"])({markBoxs:function(t){return t.mark.boxs}})),created:function(){this.init()},methods:{init:function(){var t=this;this.pageStatus=this.$route.query.type,this.res=this.markBoxs.find((function(e){return e.id===t.$route.query.id})),this.title=this.res.title,this.$store.dispatch("app/changeHeaderTitle",{title:""}),this.$store.dispatch("app/changeHeaderTheme",{theme:"white"})},changeTitle:function(){this.res.title=this.title,this.$store.dispatch("mark/update",this.res)},goSurprise:function(){this.$router.push({name:"Surprise",query:{id:this.res.id}})},closeMask:function(){this.addMaskState=!1,this.markInput=""},handleRemoveMark:function(){this.markStatus=1},handleCancel:function(){this.markStatus=0},handleAddMark:function(){var t=this;this.addMaskState=!0,this.$nextTick((function(){t.$refs.mackInput.focus()}))},addMark:function(){this.markInput.trim()&&(this.res.mark.push({title:this.markInput.trim()}),this.$store.dispatch("mark/update",this.res)),this.markInput=""},removeMark:function(t){console.log("remove",t);var e=this.res.mark.findIndex((function(e){return e.title===t.title}));if(e>-1)this.res.mark.splice(e,1);else{var n=this.res.hideMark.findIndex((function(e){return e.title===t.title}));this.res.hideMark.splice(n,1)}this.$store.dispatch("mark/update",this.res)},toggleMark:function(t){var e=this.res.mark.findIndex((function(e){return e.title===t.title}));if(console.log(e,this.res),e>-1){if(1===this.res.mark.length)return;this.res.hideMark||(this.res.hideMark=[]),this.res.hideMark.push(this.res.mark[e]),this.res.mark.splice(e,1)}else{var n=this.res.hideMark.findIndex((function(e){return e.title===t.title}));this.res.mark||(this.res.mark=[]),this.res.mark.push(this.res.hideMark[n]),this.res.hideMark.splice(n,1)}this.$store.dispatch("mark/update",this.res)}}},tt=Z,et=(n("adba"),Object(s["a"])(tt,P,q,!1,null,"036e98e0",null)),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-surprise",on:{mousedown:t.start}},[n("div",{staticClass:"main"},[t._v(t._s(t.current))])])},rt=[],at={name:"Surprise",data:function(){return{res:[],current:"点击屏幕开始抽签",timer:0,interval:0,count:0}},computed:Object(v["a"])({},Object(k["b"])({markBoxs:function(t){return t.mark.boxs}})),created:function(){this.init()},methods:{init:function(){var t=this;console.log(this.markBoxs);var e=this.markBoxs.find((function(e){return e.id===t.$route.query.id}));this.res=e.mark,this.$store.dispatch("app/changeHeaderTitle",{title:e.title}),this.$store.dispatch("app/changeHeaderTheme",{theme:"colorful"})},start:function(){var t=this;this.clear(),this.loop(),this.timer=setTimeout((function(){clearInterval(t.interval)}),2e3)},loop:function(){var t=this;this.interval=setInterval((function(){t.timeHandler()}),150)},timeHandler:function(){var t=Math.floor(Math.random()*this.res.length);this.current=this.res[t].title;while(this.res.length>1&&t===this.count)t=Math.floor(Math.random()*this.res.length);this.count=t,this.current=this.res[t].title,console.log(t)},clear:function(){this.timer&&clearTimeout(this.timer),this.interval&&clearInterval(this.interval)}},beforeDestroy:function(){this.clear()}},st=at,ot=(n("6f3e"),Object(s["a"])(st,it,rt,!1,null,"71ea687f",null)),ct=ot.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-about"},[n("div",{staticClass:"avatar"}),t._m(0),n("span",{staticClass:"version"},[t._v("version: "+t._s(t.version))])])},lt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"menu"},[n("li",{staticClass:"item"},[n("a",{attrs:{href:"mailto:kevin_2233@qq.com"}},[t._v("意见和反馈")])])])}],dt=n("9224"),ht={name:"About",data:function(){return{version:""}},created:function(){this.version=dt.version}},ft=ht,mt=(n("c662"),Object(s["a"])(ft,ut,lt,!1,null,"2b7472e4",null)),pt=mt.exports;i["a"].use(d["a"]);var vt=[{path:"/",component:y,children:[{path:"",name:"Home",component:R},{path:"/edit",name:"Edit",component:nt},{path:"/surprise",name:"Surprise",component:ct},{path:"/about",name:"About",component:pt}]}],kt=new d["a"]({routes:vt}),bt=kt,gt=(n("13d5"),n("d3b7"),n("ddb0"),{header:function(t){return t.app.header}}),_t=gt;i["a"].use(k["a"]);var xt=n("c653"),Mt=xt.keys().reduce((function(t,e){var n=e.replace(/^\.\/(.*)\.\w+$/,"$1"),i=xt(e);return t[n]=i.default,t}),{}),Ot=new k["a"].Store({modules:Mt,getters:_t}),Et=Ot;n("3e8e"),n("ab05");i["a"].config.productionTip=!1,new i["a"]({router:bt,store:Et,render:function(t){return t(u)}}).$mount("#app")},"5ba8":function(t,e,n){},"5e81":function(t,e,n){"use strict";n("0424")},"6f3e":function(t,e,n){"use strict";n("48fa")},"7c55":function(t,e,n){"use strict";n("5ba8")},"84ad":function(t,e,n){"use strict";n("a8ba")},9021:function(t,e,n){},9224:function(t){t.exports=JSON.parse('{"name":"what-to-eat-today","version":"0.1.1","private":true,"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","dev":"vue-cli-service serve"},"dependencies":{"core-js":"^3.6.5","register-service-worker":"^1.7.1","remixicon":"^2.5.0","three":"^0.122.0","vue":"^2.6.11","vue-router":"^3.2.0","vuex":"^3.4.0"},"devDependencies":{"@vue/cli-plugin-babel":"~4.5.0","@vue/cli-plugin-eslint":"~4.5.0","@vue/cli-plugin-pwa":"~4.5.0","@vue/cli-plugin-router":"~4.5.0","@vue/cli-plugin-vuex":"~4.5.0","@vue/cli-service":"~4.5.0","@vue/eslint-config-standard":"^5.1.2","babel-eslint":"^10.1.0","eslint":"^6.7.2","eslint-plugin-import":"^2.20.2","eslint-plugin-node":"^11.1.0","eslint-plugin-promise":"^4.2.1","eslint-plugin-standard":"^4.0.0","eslint-plugin-vue":"^6.2.2","less":"^3.0.4","less-loader":"^5.0.0","lint-staged":"^9.5.0","style-resources-loader":"^1.3.3","stylelint":"^13.7.2","stylelint-config-recess-order":"^2.3.0","stylelint-config-standard":"^20.0.0","vue-cli-plugin-style-resources-loader":"~0.1.4","vue-template-compiler":"^2.6.11"},"gitHooks":{"pre-commit":"lint-staged"},"lint-staged":{"/src/**/*.{js,jsx,vue}":["vue-cli-service lint","git add"]}}')},a2f5:function(t,e,n){},a8ba:function(t,e,n){},adba:function(t,e,n){"use strict";n("9021")},b138:function(t,e,n){},b816:function(t,e,n){},c653:function(t,e,n){var i={"./app.js":"d9cd","./mark.js":"3e11"};function r(t){var e=a(t);return n(e)}function a(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=a,t.exports=r,r.id="c653"},c662:function(t,e,n){"use strict";n("a2f5")},d9cd:function(t,e,n){"use strict";n.r(e);var i={header:{title:"今天吃什么",theme:"colorful"},editMarkStatus:0},r={CHANGE_HEADER_TITLE:function(t,e){var n=e.title;t.header.title=n},CHANGE_HEADER_THEME:function(t,e){var n=e.theme;t.header.theme=n},CHANGE_EDIT_MARK_STATUS:function(t,e){var n=e.status;t.editMarkStatus=n}},a={changeHeaderTitle:function(t,e){var n=t.commit;n("CHANGE_HEADER_TITLE",e)},changeHeaderTheme:function(t,e){var n=t.commit;n("CHANGE_HEADER_THEME",e)},changeEditMarkStatus:function(t,e){var n=t.commit;n("CHANGE_EDIT_MARK_STATUS",e)}};e["default"]={namespaced:!0,state:i,mutations:r,actions:a}}});
//# sourceMappingURL=app.6a42f2ef.js.map